<button id="start">start</button>
<button id="end">end</button>
<button id="decrease">decrease</button>
<div id="div"></div>
<script>
var intervalId = null, params;
function createChunks() {
    var div, foo, i, str;
    for (i = 0; i < 20; i++) {
        div = document.createElement("div");
        str = new Array(1000000).join('x');
        div.str = str;
        document.getElementById('div').appendChild(div);
    }
}
function start() {
    if (intervalId) {
        return;
    }
    intervalId = setInterval(createChunks, 1000);
}
function stop() {
    if (intervalId) {
        clearInterval(intervalId);
    }
    intervalId = null;
}
function decrease() {
	document.getElementById('div').innerHTML = '';
}
document.getElementById("start").onclick = start;
document.getElementById("end").onclick = stop;
document.getElementById("decrease").onclick = decrease;
</script>

